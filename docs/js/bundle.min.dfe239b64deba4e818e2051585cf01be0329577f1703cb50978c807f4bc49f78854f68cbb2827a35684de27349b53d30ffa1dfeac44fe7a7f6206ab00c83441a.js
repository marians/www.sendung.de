/*! @license DOMPurify 2.3.10 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.10/LICENSE */const sidebar=document.querySelector("aside.sidebar"),menuTrigger=document.querySelector("button.menu-trigger"),menuTriggerClose=document.querySelector("button.menu-trigger-close"),menuOpacity=document.querySelector("div.menu-overlay"),toggleSidebar=()=>{sidebar.classList.contains("!translate-x-0")?(sidebar.classList.remove("!translate-x-0"),menuOpacity.classList.add("hidden")):(sidebar.classList.add("!translate-x-0"),menuOpacity.classList.remove("hidden"))};menuTrigger.addEventListener("click",toggleSidebar),menuTriggerClose.addEventListener("click",toggleSidebar),menuOpacity.addEventListener("click",toggleSidebar);const scrollElement=document.querySelector(".scroll-area"),scrollElementStateKey="ScrollElementPosition";window.onbeforeunload=function(){if(!scrollElement)return;const e=scrollElement.scrollTop;e&&localStorage.setItem(scrollElementStateKey,e)},window.onload=function(){const e=localStorage.getItem(scrollElementStateKey);localStorage.removeItem(scrollElementStateKey),scrollElement&&(scrollElement.scrollTop=e)};const darkModeToggle=document.querySelector(".dark-mode-toggle"),darkModeStateKey="DarkMode",isDark=JSON.parse(localStorage.getItem(darkModeStateKey)||"false");isDark&&document.documentElement.classList.add("dark"),darkModeToggle.addEventListener("click",()=>{document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem(darkModeStateKey,!1)):(document.documentElement.classList.add("dark"),localStorage.setItem(darkModeStateKey,!0))}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.DOMPurify=t())}(this,function(){"use strict";function r(e){return"@babel/helpers - typeof",r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function k(e,t){return k=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},k(e,t)}function G(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(){return G()?v=Reflect.construct:v=function(t,n,s){var i,a,o=[null];return o.push.apply(o,n),a=Function.bind.apply(t,o),i=new a,s&&k(i,s.prototype),i},v.apply(null,arguments)}function s(e){return X(e)||Q(e)||Z(e)||J()}function X(e){if(Array.isArray(e))return C(e)}function Q(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z(e,t){if(!e)return;if(typeof e=="string")return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}function C(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,a,l,d,u,f,p,g,b,j,_,w,O,x,E,A,S,M,F,T,N,L,R,H,I,B,V,$,W,U,K,q,ee=Object.hasOwnProperty,P=Object.setPrototypeOf,te=Object.isFrozen,Y=Object.getPrototypeOf,ne=Object.getOwnPropertyDescriptor,n=Object.freeze,i=Object.seal,se=Object.create,z=typeof Reflect!="undefined"&&Reflect,m=z.apply,y=z.construct;m||(m=function(t,n,s){return t.apply(n,s)}),n||(n=function(t){return t}),i||(i=function(t){return t}),y||(y=function(t,n){return v(t,s(n))}),F=o(Array.prototype.forEach),w=o(Array.prototype.pop),l=o(Array.prototype.push),u=o(String.prototype.toLowerCase),M=o(String.prototype.match),a=o(String.prototype.replace),A=o(String.prototype.indexOf),L=o(String.prototype.trim),t=o(RegExp.prototype.test),b=oe(TypeError);function o(e){return function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),n=1;n<s;n++)o[n-1]=arguments[n];return m(e,t,o)}}function oe(e){return function(){for(var n=arguments.length,s=new Array(n),t=0;t<n;t++)s[t]=arguments[t];return y(e,s)}}function e(e,t,n){n=n||u,P&&P(e,null);for(var s,o,i=t.length;i--;)s=t[i],typeof s=="string"&&(o=n(s),o!==s&&(te(t)||(t[i]=o),s=o)),e[s]=!0;return e}function c(e){var t,n=se(null);for(t in e)m(ee,e,[t])&&(n[t]=e[t]);return n}function h(e,t){for(;e!==null;){var n=ne(e,t);if(n){if(n.get)return o(n.get);if(typeof n.value=="function")return o(n.value)}e=Y(e)}function s(e){return console.warn("fallback value for",e),null}return s}O=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),f=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),p=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H=n(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),g=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),E=n(["#text"]),_=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),j=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),x=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),d=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),R=i(/<%[\w\W]*|[\w\W]*%>/gm),K=i(/^data-[-\w.\u00B7-\uFFFF]/),U=i(/^aria-[-\w]+$/),W=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i),$=i(/^(?:\w+script|data):/i),V=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),I=i(/^html$/i),S=function(){return typeof window=="undefined"?null:window},N=function(t,n){if(r(t)!=="object"||typeof t.createPolicy!="function")return null;var o,s=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(s=n.currentScript.getAttribute(i)),o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function D(){if(i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),o=function(t){return D(t)},o.version="2.3.10",o.removed=[],!i||!i.document||i.document.nodeType!==9)return o.isSupported=!1,o;var o,i,le,y,k,Q,fe,tt,z,Ae,Ee,Ce,Je,se,P,we,je,be,ve,Ve,xe=i.document,Y=i.document,Ze=i.DocumentFragment,mt=i.HTMLTemplateElement,Se=i.Node,st=i.Element,Fe=i.NodeFilter,nt=i.NamedNodeMap,ct=nt===void 0?i.NamedNodeMap||i.MozNamedAttrMap:nt,jt=i.HTMLFormElement,yt=i.DOMParser,ue=i.trustedTypes,ae=st.prototype,xt=h(ae,"cloneNode"),ft=h(ae,"nextSibling"),_t=h(ae,"childNodes"),Re=h(ae,"parentNode");typeof mt=="function"&&(le=Y.createElement("template"),le.content&&le.content.ownerDocument&&(Y=le.content.ownerDocument));var T=N(ue,xe),Ge=T?T.createHTML(""):"",re=Y,Ne=re.implementation,bt=re.createNodeIterator,dt=re.createDocumentFragment,ut=re.getElementsByTagName,rt=xe.importNode,et={};try{et=c(Y).documentMode?Y.documentMode:{}}catch{}k={},o.isSupported=typeof Re=="function"&&Ne&&typeof Ne.createHTMLDocument!="undefined"&&et!==9;var Oe=q,_e=R,gt=K,Ot=U,wt=$,Ke=V,ye=W,v=null,Xe=e({},[].concat(s(O),s(f),s(p),s(g),s(E))),C=null,Qe=e({},[].concat(s(_),s(j),s(x),s(d))),m=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,ke=null,Be=!0,pe=!0,at=!1,te=!1,X=!1,ze=!1,De=!1,ee=!1,ce=!1,de=!1,Ye=!0,He=!0,ie=!1,J={},Z=null,$e=e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,Ue=e({},["audio","video","img","source","image","track"]),ge=null,qe=e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pe="http://www.w3.org/1998/Math/MathML",Le="http://www.w3.org/2000/svg",G="http://www.w3.org/1999/xhtml",he=G,Te=!1,vt=["application/xhtml+xml","text/html"],ht="text/html",ne=null,pt=Y.createElement("form"),it=function(t){return t instanceof RegExp||t instanceof Function},Me=function(o){if(ne&&ne===o)return;(!o||r(o)!=="object")&&(o={}),o=c(o),Q=vt.indexOf(o.PARSER_MEDIA_TYPE)===-1?Q=ht:Q=o.PARSER_MEDIA_TYPE,y=Q==="application/xhtml+xml"?function(e){return e}:u,v="ALLOWED_TAGS"in o?e({},o.ALLOWED_TAGS,y):Xe,C="ALLOWED_ATTR"in o?e({},o.ALLOWED_ATTR,y):Qe,ge="ADD_URI_SAFE_ATTR"in o?e(c(qe),o.ADD_URI_SAFE_ATTR,y):qe,We="ADD_DATA_URI_TAGS"in o?e(c(Ue),o.ADD_DATA_URI_TAGS,y):Ue,Z="FORBID_CONTENTS"in o?e({},o.FORBID_CONTENTS,y):$e,oe="FORBID_TAGS"in o?e({},o.FORBID_TAGS,y):{},ke="FORBID_ATTR"in o?e({},o.FORBID_ATTR,y):{},J="USE_PROFILES"in o&&o.USE_PROFILES,Be=o.ALLOW_ARIA_ATTR!==!1,pe=o.ALLOW_DATA_ATTR!==!1,at=o.ALLOW_UNKNOWN_PROTOCOLS||!1,te=o.SAFE_FOR_TEMPLATES||!1,X=o.WHOLE_DOCUMENT||!1,ee=o.RETURN_DOM||!1,ce=o.RETURN_DOM_FRAGMENT||!1,de=o.RETURN_TRUSTED_TYPE||!1,De=o.FORCE_BODY||!1,Ye=o.SANITIZE_DOM!==!1,He=o.KEEP_CONTENT!==!1,ie=o.IN_PLACE||!1,ye=o.ALLOWED_URI_REGEXP||ye,he=o.NAMESPACE||G,o.CUSTOM_ELEMENT_HANDLING&&it(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(m.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&it(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(m.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(m.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),te&&(pe=!1),ce&&(ee=!0),J&&(v=e({},s(E)),C=[],J.html===!0&&(e(v,O),e(C,_)),J.svg===!0&&(e(v,f),e(C,j),e(C,d)),J.svgFilters===!0&&(e(v,p),e(C,j),e(C,d)),J.mathMl===!0&&(e(v,g),e(C,x),e(C,d))),o.ADD_TAGS&&(v===Xe&&(v=c(v)),e(v,o.ADD_TAGS,y)),o.ADD_ATTR&&(C===Qe&&(C=c(C)),e(C,o.ADD_ATTR,y)),o.ADD_URI_SAFE_ATTR&&e(ge,o.ADD_URI_SAFE_ATTR,y),o.FORBID_CONTENTS&&(Z===$e&&(Z=c(Z)),e(Z,o.FORBID_CONTENTS,y)),He&&(v["#text"]=!0),X&&e(v,["html","head","body"]),v.table&&(e(v,["tbody"]),delete oe.tbody),n&&n(o),ne=o},Ie=e({},["mi","mo","mn","ms","mtext"]),ot=e({},["foreignobject","desc","title","annotation-xml"]),lt=e({},["title","style","font","a","script"]),me=e({},f);return e(me,p),e(me,H),fe=e({},g),e(fe,B),tt=function(t){var s,o,n=Re(t);return(!n||!n.tagName)&&(n={namespaceURI:G,tagName:"template"}),s=u(t.tagName),o=u(n.tagName),t.namespaceURI===Le?n.namespaceURI===G?s==="svg":n.namespaceURI===Pe?s==="svg"&&(o==="annotation-xml"||Ie[o]):Boolean(me[s]):t.namespaceURI===Pe?n.namespaceURI===G?s==="math":n.namespaceURI===Le?s==="math"&&ot[o]:Boolean(fe[s]):t.namespaceURI===G&&!(n.namespaceURI===Le&&!ot[o])&&!(n.namespaceURI===Pe&&!Ie[o])&&!fe[s]&&(lt[s]||!me[s])},z=function(t){l(o.removed,{element:t});try{t.parentNode.removeChild(t)}catch{try{t.outerHTML=Ge}catch{t.remove()}}},Ae=function(t,n){try{l(o.removed,{attribute:n.getAttributeNode(t),from:n})}catch{l(o.removed,{attribute:null,from:n})}if(n.removeAttribute(t),t==="is"&&!C[t])if(ee||ce)try{z(n)}catch{}else try{n.setAttribute(t,"")}catch{}},Ee=function(t){if(De)t="<remove></remove>"+t;else{var n,s,o,i,a=M(t,/^[\r\n\t ]+/);o=a&&a[0]}if(Q==="application/xhtml+xml"&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"),i=T?T.createHTML(t):t,he===G)try{n=(new yt).parseFromString(i,Q)}catch{}if(!n||!n.documentElement){n=Ne.createDocument(he,"template",null);try{n.documentElement.innerHTML=Te?"":i}catch{}}return s=n.body||n.documentElement,t&&o&&s.insertBefore(Y.createTextNode(o),s.childNodes[0]||null),he===G?ut.call(n,X?"html":"body")[0]:X?n.documentElement:s},Ce=function(t){return bt.call(t.ownerDocument||t,t,Fe.SHOW_ELEMENT|Fe.SHOW_COMMENT|Fe.SHOW_TEXT,null,!1)},Je=function(t){return t instanceof jt&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof ct)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function")},se=function(t){return r(Se)==="object"?t instanceof Se:t&&r(t)==="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"},P=function(t,n,s){if(!k[t])return;F(k[t],function(e){e.call(o,n,s,ne)})},we=function(n){if(P("beforeSanitizeElements",n,null),Je(n))return z(n),!0;if(t(/[\u0080-\uFFFF]/,n.nodeName))return z(n),!0;var i,r,c,d,u,s=y(n.nodeName);if(P("uponSanitizeElement",n,{tagName:s,allowedTags:v}),n.hasChildNodes()&&!se(n.firstElementChild)&&(!se(n.content)||!se(n.content.firstElementChild))&&t(/<[/\w]/g,n.innerHTML)&&t(/<[/\w]/g,n.textContent))return z(n),!0;if(s==="select"&&t(/<template/i,n.innerHTML))return z(n),!0;if(!v[s]||oe[s]){if(!oe[s]&&be(s)){if(m.tagNameCheck instanceof RegExp&&t(m.tagNameCheck,s))return!1;if(m.tagNameCheck instanceof Function&&m.tagNameCheck(s))return!1}if(He&&!Z[s]&&(d=Re(n)||n.parentNode,r=_t(n)||n.childNodes,r&&d))for(u=r.length,c=u-1;c>=0;--c)d.insertBefore(xt(r[c],!0),ft(n));return z(n),!0}return n instanceof st&&!tt(n)?(z(n),!0):(s==="noscript"||s==="noembed")&&t(/<\/no(script|embed)/i,n.innerHTML)?(z(n),!0):(te&&n.nodeType===3&&(i=n.textContent,i=a(i,Oe," "),i=a(i,_e," "),n.textContent!==i&&(l(o.removed,{element:n.cloneNode()}),n.textContent=i)),P("afterSanitizeElements",n,null),!1)},je=function(n,s,o){if(Ye&&(s==="id"||s==="name")&&(o in Y||o in pt))return!1;if(pe&&!ke[s]&&t(gt,s));else if(Be&&t(Ot,s));else if(!C[s]||ke[s])if(be(n)&&(m.tagNameCheck instanceof RegExp&&t(m.tagNameCheck,n)||m.tagNameCheck instanceof Function&&m.tagNameCheck(n))&&(m.attributeNameCheck instanceof RegExp&&t(m.attributeNameCheck,s)||m.attributeNameCheck instanceof Function&&m.attributeNameCheck(s))||s==="is"&&m.allowCustomizedBuiltInElements&&(m.tagNameCheck instanceof RegExp&&t(m.tagNameCheck,o)||m.tagNameCheck instanceof Function&&m.tagNameCheck(o)));else return!1;else if(ge[s]);else if(t(ye,a(o,Ke,"")));else if((s==="src"||s==="xlink:href"||s==="href")&&n!=="script"&&A(o,"data:")===0&&We[n]);else if(at&&!t(wt,a(o,Ke,"")));else if(o)return!1;return!0},be=function(t){return t.indexOf("-")>0},ve=function(n){if(P("beforeSanitizeAttributes",n,null),u=n.attributes,!u)return;for(i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:C},h=u.length;h--;){l=u[h];var s,i,l,d,u,h,f,p=l,c=p.name,m=p.namespaceURI;if(s=c==="value"?l.value:L(l.value),d=y(c),i.attrName=d,i.attrValue=s,i.keepAttr=!0,i.forceKeepAttr=void 0,P("uponSanitizeAttribute",n,i),s=i.attrValue,i.forceKeepAttr)continue;if(Ae(c,n),!i.keepAttr)continue;if(t(/\/>/i,s)){Ae(c,n);continue}if(te&&(s=a(s,Oe," "),s=a(s,_e," ")),f=y(n.nodeName),!je(f,d,s))continue;if(T&&r(ue)==="object"&&typeof ue.getAttributeType=="function")if(m);else switch(ue.getAttributeType(f,d)){case"TrustedHTML":s=T.createHTML(s);break;case"TrustedScriptURL":s=T.createScriptURL(s);break}try{m?n.setAttributeNS(m,c,s):n.setAttribute(c,s),w(o.removed)}catch{}}P("afterSanitizeAttributes",n,null)},Ve=function e(t){var n,s=Ce(t);for(P("beforeSanitizeShadowDOM",t,null);n=s.nextNode();){if(P("uponSanitizeShadowNode",n,null),we(n))continue;n.content instanceof Ze&&e(n.content),ve(n)}P("afterSanitizeShadowDOM",t,null)},o.sanitize=function(e,n){if(Te=!e,Te&&(e="<!-->"),typeof e!="string"&&!se(e)){if(typeof e.toString!="function")throw b("toString is not a function");if(e=e.toString(),typeof e!="string")throw b("dirty is not a string, aborting")}if(!o.isSupported){if(r(i.toStaticHTML)==="object"||typeof i.toStaticHTML=="function"){if(typeof e=="string")return i.toStaticHTML(e);if(se(e))return i.toStaticHTML(e.outerHTML)}return e}if(ze||Me(n),o.removed=[],typeof e=="string"&&(ie=!1),ie){if(e.nodeName){var s,c,l,d,u,h,f,m=y(e.nodeName);if(!v[m]||oe[m])throw b("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof Se)s=Ee("<!---->"),d=s.ownerDocument.importNode(e,!0),d.nodeType===1&&d.nodeName==="BODY"?s=d:d.nodeName==="HTML"?s=d:s.appendChild(d);else{if(!ee&&!te&&!X&&e.indexOf("<")===-1)return T&&de?T.createHTML(e):e;if(s=Ee(e),!s)return ee?null:de?Ge:""}for(s&&De&&z(s.firstChild),f=Ce(ie?e:s);l=f.nextNode();){if(l.nodeType===3&&l===h)continue;if(we(l))continue;l.content instanceof Ze&&Ve(l.content),ve(l),h=l}if(h=null,ie)return e;if(ee){if(ce)for(u=dt.call(s.ownerDocument);s.firstChild;)u.appendChild(s.firstChild);else u=s;return C.shadowroot&&(u=rt.call(xe,u,!0)),u}return c=X?s.outerHTML:s.innerHTML,X&&v["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&t(I,s.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+s.ownerDocument.doctype.name+`>
`+c),te&&(c=a(c,Oe," "),c=a(c,_e," ")),T&&de?T.createHTML(c):c},o.setConfig=function(e){Me(e),ze=!0},o.clearConfig=function(){ne=null,ze=!1},o.isValidAttribute=function(e,t,n){ne||Me({});var s=y(e),o=y(t);return je(s,o,n)},o.addHook=function(e,t){if(typeof t!="function")return;k[e]=k[e]||[],l(k[e],t)},o.removeHook=function(e){if(k[e])return w(k[e])},o.removeHooks=function(e){k[e]&&(k[e]=[])},o.removeAllHooks=function(){k={}},o}return T=D(),T});function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function formatDate(e){let t=e.split("T");return`${t[0]} ${t[1].substr(0,5)}`}function loadMastodonComments(e){console.debug(e),document.getElementById("load-comments").innerHTML=`Loading <svg class="spinner" viewBox="0 0 50 50">
  <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
</svg>`;let t=e.target.dataset.host,n=e.target.dataset.id,s=`https://${t}/api/v1/statuses/${n}/context`;fetch(s).then(function(e){return e.json()}).then(function(e){e.descendants&&Array.isArray(e.descendants)&&e.descendants.length>0?(document.getElementById("mastodon-comments-list").innerHTML="",e.descendants.forEach(function(e){let t=escapeHtml(e.account.display_name);e.account.emojis.forEach(e=>{t=t.replace(`:${e.shortcode}:`,`<img src="${escapeHtml(e.static_url)}" alt="Emoji ${e.shortcode}" height="20" width="20">`)}),mastodonComment=`<div class="mastodon-comment rounded-lg p-8 pb-8 mt-4 mb-4 bg-slate-100 dark:bg-slate-800" id="${e.url}">
                  <div class="flex space-x-4">
                    <div class="shrink-0">
                      <img class="h-16 w-16 m-0 rounded" src="${escapeHtml(e.account.avatar_static)}" alt="Avatar of user ${t}" />
                    </div>
                    <div>
                      <a href="${e.account.url}" target="_blank" rel="noopener noreferrer nofollow">${t?"<strong>"+t+"</strong>":"<strong>"+e.account.acct.split("@")[0]+"</strong>"} &ndash; ${escapeHtml(e.account.acct)}</a><br/>
                      <small><a class="date" href="${e.url}" target="_blank" rel="noopener noreferrer nofollow">${formatDate(e.created_at)} 🔗</a></small>
                    </div>
                  </div>
                  <div class="prose dark:prose-invert mt-4 leading-6">${e.content}</div>
                </div>`,document.getElementById("mastodon-comments-list").appendChild(DOMPurify.sanitize(mastodonComment,{RETURN_DOM_FRAGMENT:!0}))})):document.getElementById("mastodon-comments-list").innerHTML="<p>Not comments found</p>"})}document.getElementById("load-comments").addEventListener("click",loadMastodonComments)