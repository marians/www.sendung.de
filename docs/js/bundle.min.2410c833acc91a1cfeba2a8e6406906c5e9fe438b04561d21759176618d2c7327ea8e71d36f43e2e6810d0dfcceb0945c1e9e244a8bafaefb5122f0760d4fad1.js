const sidebar=document.querySelector("aside.sidebar"),menuTrigger=document.querySelector("button.menu-trigger"),menuTriggerClose=document.querySelector("button.menu-trigger-close"),menuOpacity=document.querySelector("div.menu-overlay"),toggleSidebar=()=>{sidebar.classList.contains("!translate-x-0")?(sidebar.classList.remove("!translate-x-0"),menuOpacity.classList.add("hidden")):(sidebar.classList.add("!translate-x-0"),menuOpacity.classList.remove("hidden"))};menuTrigger.addEventListener("click",toggleSidebar),menuTriggerClose.addEventListener("click",toggleSidebar),menuOpacity.addEventListener("click",toggleSidebar);const scrollElement=document.querySelector(".scroll-area"),scrollElementStateKey="ScrollElementPosition";window.onbeforeunload=function(){if(!scrollElement)return;const e=scrollElement.scrollTop;e&&localStorage.setItem(scrollElementStateKey,e)},window.onload=function(){const e=localStorage.getItem(scrollElementStateKey);localStorage.removeItem(scrollElementStateKey),scrollElement&&(scrollElement.scrollTop=e)};const darkModeToggle=document.querySelector(".dark-mode-toggle"),darkModeStateKey="DarkMode",isDark=JSON.parse(localStorage.getItem(darkModeStateKey)||"false");isDark&&document.documentElement.classList.add("dark"),darkModeToggle.addEventListener("click",()=>{document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem(darkModeStateKey,!1)):(document.documentElement.classList.add("dark"),localStorage.setItem(darkModeStateKey,!0))}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.DOMPurify=t())}(this,function(){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function E(e,t){return E=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},E(e,t)}function se(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(){return se()?b=Reflect.construct:b=function(t,n,s){var i,a,o=[null];return o.push.apply(o,n),a=Function.bind.apply(t,o),i=new a,s&&E(i,s.prototype),i},b.apply(null,arguments)}function o(e){return ne(e)||te(e)||oe(e)||ee()}function ne(e){if(Array.isArray(e))return O(e)}function te(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oe(e,t){if(!e)return;if(typeof e=="string")return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}function O(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,a,l,d,u,h,m,f,p,g,y,w,x,C,k,S,M,F,T,z,D,N,L,P,H,I,B,V,W,U,K,q,J=Object.hasOwnProperty,R=Object.setPrototypeOf,Z=Object.isFrozen,Q=Object.getPrototypeOf,X=Object.getOwnPropertyDescriptor,n=Object.freeze,i=Object.seal,G=Object.create,A=typeof Reflect!="undefined"&&Reflect,j=A.apply,_=A.construct;j||(j=function(t,n,s){return t.apply(n,s)}),n||(n=function(t){return t}),i||(i=function(t){return t}),_||(_=function(t,n){return b(t,o(n))}),z=s(Array.prototype.forEach),k=s(Array.prototype.pop),l=s(Array.prototype.push),d=s(String.prototype.toLowerCase),F=s(String.prototype.match),a=s(String.prototype.replace),M=s(String.prototype.indexOf),S=s(String.prototype.trim),t=s(RegExp.prototype.test),f=Y(TypeError);function s(e){return function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),n=1;n<s;n++)o[n-1]=arguments[n];return j(e,t,o)}}function Y(e){return function(){for(var n=arguments.length,s=new Array(n),t=0;t<n;t++)s[t]=arguments[t];return _(e,s)}}function e(e,t,n){n=n||d,R&&R(e,null);for(var s,o,i=t.length;i--;)s=t[i],typeof s=="string"&&(o=n(s),o!==s&&(Z(t)||(t[i]=o),s=o)),e[s]=!0;return e}function c(e){var t,n=G(null);for(t in e)j(J,e,[t])&&(n[t]=e[t]);return n}function v(e,t){for(;e!==null;){var n=X(e,t);if(n){if(n.get)return s(n.get);if(typeof n.value=="function")return s(n.value)}e=Q(e)}function o(e){return console.warn("fallback value for",e),null}return o}w=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),p=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),h=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H=n(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),g=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x=n(["#text"]),C=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),m=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),y=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),u=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),T=i(/<%[\w\W]*|[\w\W]*%>/gm),D=i(/^data-[-\w.\u00B7-\uFFFF]/),N=i(/^aria-[-\w]+$/),K=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i),L=i(/^(?:\w+script|data):/i),P=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),I=i(/^html$/i),V=function(){return typeof window=="undefined"?null:window},U=function(t,n){if(r(t)!=="object"||typeof t.createPolicy!="function")return null;var o,s=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(s=n.currentScript.getAttribute(i)),o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function $(){if(i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V(),s=function(t){return $(t)},s.version="2.3.10",s.removed=[],!i||!i.document||i.document.nodeType!==9)return s.isSupported=!1,s;var s,i,_,A,R,W,Z,J,we=i.document,G=i.document,Ge=i.DocumentFragment,mt=i.HTMLTemplateElement,ye=i.Node,Je=i.Element,Te=i.NodeFilter,at=i.NamedNodeMap,Ot=at===void 0?i.NamedNodeMap||i.MozNamedAttrMap:at,wt=i.HTMLFormElement,vt=i.DOMParser,ce=i.trustedTypes,me,ae,et,ge,He,_e,Xe,Ce,Ee,Le,Re,nt,le=Je.prototype,bt=v(le,"cloneNode"),rt=v(le,"nextSibling"),pt=v(le,"childNodes"),Ne=v(le,"parentNode");typeof mt=="function"&&(me=G.createElement("template"),me.content&&me.content.ownerDocument&&(G=me.content.ownerDocument));var E=U(ce,we),Be=E?E.createHTML(""):"",he=G,Fe=he.implementation,_t=he.createNodeIterator,yt=he.createDocumentFragment,jt=he.getElementsByTagName,gt=we.importNode,Ze={};try{Ze=c(G).documentMode?G.documentMode:{}}catch{}A={},s.isSupported=typeof Ne=="function"&&Fe&&typeof Fe.createHTMLDocument!="undefined"&&Ze!==9;var be=q,ve=T,ft=D,ut=N,dt=L,ot=P,Me=K,j=null,Qe=e({},[].concat(o(w),o(p),o(h),o(g),o(x))),O=null,Ye=e({},[].concat(o(C),o(m),o(y),o(u))),b=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ie=null,ke=null,Ke=!0,Se=!0,Ve=!1,te=!1,X=!1,ze=!1,De=!1,ee=!1,re=!1,ue=!1,it=!0,Pe=!0,oe=!1,ne={},se=null,$e=e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,Ue=e({},["audio","video","img","source","image","track"]),Ae=null,qe=e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xe="http://www.w3.org/1998/Math/MathML",Oe="http://www.w3.org/2000/svg",Y="http://www.w3.org/1999/xhtml",de=Y,pe=!1,ht=["application/xhtml+xml","text/html"],ct="text/html",Q=null,xt=G.createElement("form"),Ie=function(t){return t instanceof RegExp||t instanceof Function},je=function(s){if(Q&&Q===s)return;(!s||r(s)!=="object")&&(s={}),s=c(s),J=ht.indexOf(s.PARSER_MEDIA_TYPE)===-1?J=ct:J=s.PARSER_MEDIA_TYPE,_=J==="application/xhtml+xml"?function(e){return e}:d,j="ALLOWED_TAGS"in s?e({},s.ALLOWED_TAGS,_):Qe,O="ALLOWED_ATTR"in s?e({},s.ALLOWED_ATTR,_):Ye,Ae="ADD_URI_SAFE_ATTR"in s?e(c(qe),s.ADD_URI_SAFE_ATTR,_):qe,We="ADD_DATA_URI_TAGS"in s?e(c(Ue),s.ADD_DATA_URI_TAGS,_):Ue,se="FORBID_CONTENTS"in s?e({},s.FORBID_CONTENTS,_):$e,ie="FORBID_TAGS"in s?e({},s.FORBID_TAGS,_):{},ke="FORBID_ATTR"in s?e({},s.FORBID_ATTR,_):{},ne="USE_PROFILES"in s&&s.USE_PROFILES,Ke=s.ALLOW_ARIA_ATTR!==!1,Se=s.ALLOW_DATA_ATTR!==!1,Ve=s.ALLOW_UNKNOWN_PROTOCOLS||!1,te=s.SAFE_FOR_TEMPLATES||!1,X=s.WHOLE_DOCUMENT||!1,ee=s.RETURN_DOM||!1,re=s.RETURN_DOM_FRAGMENT||!1,ue=s.RETURN_TRUSTED_TYPE||!1,De=s.FORCE_BODY||!1,it=s.SANITIZE_DOM!==!1,Pe=s.KEEP_CONTENT!==!1,oe=s.IN_PLACE||!1,Me=s.ALLOWED_URI_REGEXP||Me,de=s.NAMESPACE||Y,s.CUSTOM_ELEMENT_HANDLING&&Ie(s.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(b.tagNameCheck=s.CUSTOM_ELEMENT_HANDLING.tagNameCheck),s.CUSTOM_ELEMENT_HANDLING&&Ie(s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(b.attributeNameCheck=s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),s.CUSTOM_ELEMENT_HANDLING&&typeof s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(b.allowCustomizedBuiltInElements=s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),te&&(Se=!1),re&&(ee=!0),ne&&(j=e({},o(x)),O=[],ne.html===!0&&(e(j,w),e(O,C)),ne.svg===!0&&(e(j,p),e(O,m),e(O,u)),ne.svgFilters===!0&&(e(j,h),e(O,m),e(O,u)),ne.mathMl===!0&&(e(j,g),e(O,y),e(O,u))),s.ADD_TAGS&&(j===Qe&&(j=c(j)),e(j,s.ADD_TAGS,_)),s.ADD_ATTR&&(O===Ye&&(O=c(O)),e(O,s.ADD_ATTR,_)),s.ADD_URI_SAFE_ATTR&&e(Ae,s.ADD_URI_SAFE_ATTR,_),s.FORBID_CONTENTS&&(se===$e&&(se=c(se)),e(se,s.FORBID_CONTENTS,_)),Pe&&(j["#text"]=!0),X&&e(j,["html","head","body"]),j.table&&(e(j,["tbody"]),delete ie.tbody),n&&n(s),Q=s},st=e({},["mi","mo","mn","ms","mtext"]),tt=e({},["foreignobject","desc","title","annotation-xml"]),lt=e({},["title","style","font","a","script"]),fe=e({},p);return e(fe,h),e(fe,H),ae=e({},g),e(ae,B),et=function(t){var s,o,n=Ne(t);return(!n||!n.tagName)&&(n={namespaceURI:Y,tagName:"template"}),s=d(t.tagName),o=d(n.tagName),t.namespaceURI===Oe?n.namespaceURI===Y?s==="svg":n.namespaceURI===xe?s==="svg"&&(o==="annotation-xml"||st[o]):Boolean(fe[s]):t.namespaceURI===xe?n.namespaceURI===Y?s==="math":n.namespaceURI===Oe?s==="math"&&tt[o]:Boolean(ae[s]):t.namespaceURI===Y&&!(n.namespaceURI===Oe&&!tt[o])&&!(n.namespaceURI===xe&&!st[o])&&!ae[s]&&(lt[s]||!fe[s])},W=function(t){l(s.removed,{element:t});try{t.parentNode.removeChild(t)}catch{try{t.outerHTML=Be}catch{t.remove()}}},ge=function(t,n){try{l(s.removed,{attribute:n.getAttributeNode(t),from:n})}catch{l(s.removed,{attribute:null,from:n})}if(n.removeAttribute(t),t==="is"&&!O[t])if(ee||re)try{W(n)}catch{}else try{n.setAttribute(t,"")}catch{}},He=function(t){if(De)t="<remove></remove>"+t;else{var n,s,o,i,a=F(t,/^[\r\n\t ]+/);o=a&&a[0]}if(J==="application/xhtml+xml"&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"),i=E?E.createHTML(t):t,de===Y)try{n=(new vt).parseFromString(i,J)}catch{}if(!n||!n.documentElement){n=Fe.createDocument(de,"template",null);try{n.documentElement.innerHTML=pe?"":i}catch{}}return s=n.body||n.documentElement,t&&o&&s.insertBefore(G.createTextNode(o),s.childNodes[0]||null),de===Y?jt.call(n,X?"html":"body")[0]:X?n.documentElement:s},_e=function(t){return _t.call(t.ownerDocument||t,t,Te.SHOW_ELEMENT|Te.SHOW_COMMENT|Te.SHOW_TEXT,null,!1)},Xe=function(t){return t instanceof wt&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof Ot)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function")},Z=function(t){return r(ye)==="object"?t instanceof ye:t&&r(t)==="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"},R=function(t,n,o){if(!A[t])return;z(A[t],function(e){e.call(s,n,o,Q)})},Ce=function(n){if(R("beforeSanitizeElements",n,null),Xe(n))return W(n),!0;if(t(/[\u0080-\uFFFF]/,n.nodeName))return W(n),!0;var i,r,c,d,u,o=_(n.nodeName);if(R("uponSanitizeElement",n,{tagName:o,allowedTags:j}),n.hasChildNodes()&&!Z(n.firstElementChild)&&(!Z(n.content)||!Z(n.content.firstElementChild))&&t(/<[/\w]/g,n.innerHTML)&&t(/<[/\w]/g,n.textContent))return W(n),!0;if(o==="select"&&t(/<template/i,n.innerHTML))return W(n),!0;if(!j[o]||ie[o]){if(!ie[o]&&Le(o)){if(b.tagNameCheck instanceof RegExp&&t(b.tagNameCheck,o))return!1;if(b.tagNameCheck instanceof Function&&b.tagNameCheck(o))return!1}if(Pe&&!se[o]&&(d=Ne(n)||n.parentNode,r=pt(n)||n.childNodes,r&&d)){u=r.length;for(c=u-1;c>=0;--c)d.insertBefore(bt(r[c],!0),rt(n))}return W(n),!0}return n instanceof Je&&!et(n)?(W(n),!0):(o==="noscript"||o==="noembed")&&t(/<\/no(script|embed)/i,n.innerHTML)?(W(n),!0):(te&&n.nodeType===3&&(i=n.textContent,i=a(i,be," "),i=a(i,ve," "),n.textContent!==i&&(l(s.removed,{element:n.cloneNode()}),n.textContent=i)),R("afterSanitizeElements",n,null),!1)},Ee=function(n,s,o){if(it&&(s==="id"||s==="name")&&(o in G||o in xt))return!1;if(Se&&!ke[s]&&t(ft,s));else if(Ke&&t(ut,s));else if(!O[s]||ke[s])if(Le(n)&&(b.tagNameCheck instanceof RegExp&&t(b.tagNameCheck,n)||b.tagNameCheck instanceof Function&&b.tagNameCheck(n))&&(b.attributeNameCheck instanceof RegExp&&t(b.attributeNameCheck,s)||b.attributeNameCheck instanceof Function&&b.attributeNameCheck(s))||s==="is"&&b.allowCustomizedBuiltInElements&&(b.tagNameCheck instanceof RegExp&&t(b.tagNameCheck,o)||b.tagNameCheck instanceof Function&&b.tagNameCheck(o)));else return!1;else if(Ae[s]);else if(t(Me,a(o,ot,"")));else if((s==="src"||s==="xlink:href"||s==="href")&&n!=="script"&&M(o,"data:")===0&&We[n]);else if(Ve&&!t(dt,a(o,ot,"")));else if(o)return!1;return!0},Le=function(t){return t.indexOf("-")>0},Re=function(n){if(R("beforeSanitizeAttributes",n,null),u=n.attributes,!u)return;for(i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O},h=u.length;h--;){l=u[h];var o,i,l,d,u,h,f,p=l,c=p.name,m=p.namespaceURI;if(o=c==="value"?l.value:S(l.value),d=_(c),i.attrName=d,i.attrValue=o,i.keepAttr=!0,i.forceKeepAttr=void 0,R("uponSanitizeAttribute",n,i),o=i.attrValue,i.forceKeepAttr)continue;if(ge(c,n),!i.keepAttr)continue;if(t(/\/>/i,o)){ge(c,n);continue}if(te&&(o=a(o,be," "),o=a(o,ve," ")),f=_(n.nodeName),!Ee(f,d,o))continue;if(E&&r(ce)==="object"&&typeof ce.getAttributeType=="function")if(m);else switch(ce.getAttributeType(f,d)){case"TrustedHTML":o=E.createHTML(o);break;case"TrustedScriptURL":o=E.createScriptURL(o);break}try{m?n.setAttributeNS(m,c,o):n.setAttribute(c,o),k(s.removed)}catch{}}R("afterSanitizeAttributes",n,null)},nt=function e(t){var n,s=_e(t);for(R("beforeSanitizeShadowDOM",t,null);n=s.nextNode();){if(R("uponSanitizeShadowNode",n,null),Ce(n))continue;n.content instanceof Ge&&e(n.content),Re(n)}R("afterSanitizeShadowDOM",t,null)},s.sanitize=function(e,n){if(pe=!e,pe&&(e="<!-->"),typeof e!="string"&&!Z(e)){if(typeof e.toString!="function")throw f("toString is not a function");if(e=e.toString(),typeof e!="string")throw f("dirty is not a string, aborting")}if(!s.isSupported){if(r(i.toStaticHTML)==="object"||typeof i.toStaticHTML=="function"){if(typeof e=="string")return i.toStaticHTML(e);if(Z(e))return i.toStaticHTML(e.outerHTML)}return e}if(ze||je(n),s.removed=[],typeof e=="string"&&(oe=!1),oe){if(e.nodeName){var o,c,l,d,u,h,p,m=_(e.nodeName);if(!j[m]||ie[m])throw f("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof ye)o=He("<!---->"),d=o.ownerDocument.importNode(e,!0),d.nodeType===1&&d.nodeName==="BODY"?o=d:d.nodeName==="HTML"?o=d:o.appendChild(d);else{if(!ee&&!te&&!X&&e.indexOf("<")===-1)return E&&ue?E.createHTML(e):e;if(o=He(e),!o)return ee?null:ue?Be:""}for(o&&De&&W(o.firstChild),p=_e(oe?e:o);l=p.nextNode();){if(l.nodeType===3&&l===h)continue;if(Ce(l))continue;l.content instanceof Ge&&nt(l.content),Re(l),h=l}if(h=null,oe)return e;if(ee){if(re)for(u=yt.call(o.ownerDocument);o.firstChild;)u.appendChild(o.firstChild);else u=o;return O.shadowroot&&(u=gt.call(we,u,!0)),u}return c=X?o.outerHTML:o.innerHTML,X&&j["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&t(I,o.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+o.ownerDocument.doctype.name+`>
`+c),te&&(c=a(c,be," "),c=a(c,ve," ")),E&&ue?E.createHTML(c):c},s.setConfig=function(e){je(e),ze=!0},s.clearConfig=function(){Q=null,ze=!1},s.isValidAttribute=function(e,t,n){Q||je({});var s=_(e),o=_(t);return Ee(s,o,n)},s.addHook=function(e,t){if(typeof t!="function")return;A[e]=A[e]||[],l(A[e],t)},s.removeHook=function(e){if(A[e])return k(A[e])},s.removeHooks=function(e){A[e]&&(A[e]=[])},s.removeAllHooks=function(){A={}},s}return W=$(),W});function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function formatDate(e){let t=e.split("T");return`${t[0]} ${t[1].substr(0,5)}`}function loadMastodonComments(e){console.debug(e),document.getElementById("load-comments").innerHTML=`Loading <svg class="spinner" viewBox="0 0 50 50">
  <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
</svg>`;let t=e.target.dataset.host,n=e.target.dataset.id,s=`https://${t}/api/v1/statuses/${n}/context`;fetch(s).then(function(e){return e.json()}).then(function(e){e.descendants&&Array.isArray(e.descendants)&&e.descendants.length>0?(document.getElementById("mastodon-comments-list").innerHTML="",e.descendants.forEach(function(e){let t=escapeHtml(e.account.display_name);e.account.emojis.forEach(e=>{t=t.replace(`:${e.shortcode}:`,`<img src="${escapeHtml(e.static_url)}" alt="Emoji ${e.shortcode}" height="20" width="20">`)}),mastodonComment=`<div class="mastodon-comment rounded-lg p-8 pb-8 mt-4 mb-4 bg-slate-100 dark:bg-slate-800" id="${e.url}">
                  <div class="flex space-x-4">
                    <div class="shrink-0">
                      <img class="h-16 w-16 m-0 rounded" src="${escapeHtml(e.account.avatar_static)}" alt="Avatar of user ${t}" />
                    </div>
                    <div>
                      <a href="${e.account.url}" target="_blank" rel="noopener noreferrer nofollow">${t?"<strong>"+t+"</strong>":"<strong>"+e.account.acct.split("@")[0]+"</strong>"} &ndash; ${escapeHtml(e.account.acct)}</a><br/>
                      <small><a class="date" href="${e.url}" target="_blank" rel="noopener noreferrer nofollow">${formatDate(e.created_at)} 🔗</a></small>
                    </div>
                  </div>
                  <div class="prose dark:prose-invert mt-4 leading-6">${e.content}</div>
                </div>`,document.getElementById("mastodon-comments-list").appendChild(DOMPurify.sanitize(mastodonComment,{RETURN_DOM_FRAGMENT:!0}))})):document.getElementById("mastodon-comments-list").innerHTML="<p>Not comments found</p>"})}document.getElementById("load-comments").addEventListener("click",loadMastodonComments)